def get_lambda_enis(lambda_client):
    enis = []

    try:
        response = lambda_client.list_functions()
        functions = response['Functions']
        for function in functions:
            function_name = function['FunctionName']
            eni_metadata = get_lambda_eni_metadata(lambda_client, function_name)
            enis.append({
                'FunctionName': function_name,
                'ENIs': eni_metadata
            })
    except Exception as e:
        print(f"Error retrieving Lambda ENIs: {e}")

    return enis

def get_lambda_eni_metadata(lambda_client, lambda_function_name):
    metadata = []

    try:
        response = lambda_client.get_function_configuration(FunctionName=lambda_function_name)
        eni_configurations = response['VpcConfig']['SubnetIds']
        for eni_configuration in eni_configurations:
            eni_id = eni_configuration['NetworkInterfaceId']
            eni_metadata = get_eni_metadata(ec2_client, eni_id)
            metadata.append(eni_metadata)
    except Exception as e:
        print(f"Error retrieving metadata for Lambda function {lambda_function_name}: {e}")

    return metadata
